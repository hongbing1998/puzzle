let stepsBox=$(".steps-box>text"),adviceBox=$(".advice-box");let autoBtn=$("#auto-btn"),hintImg=$(".hint-img");let gridsNode=null,box=$(".grid-box");let mCount=$(".minutes-count"),sCount=$(".seconds-count");let hintBtn=$("#hint-btn"),processBar=$(".process-bar");let imgSrc=hintImg.css("backgroundImage");let util={getFinalStatus:function(b,a){return"abcdefghijklmnopqrstuvwx".substring(0,b*a-1)+"\u0000"},createStatus:function(a,c,b){let exchageTime=Math.round(8+Math.random()*c*b)*2;for(let i=0;i<exchageTime;i++){let index1=0,index2=0;while(index1===index2){index1=Math.round(Math.random()*(c*b-2));index2=Math.round(Math.random()*(c*b-2))}let char1=a.charAt(index1);let char2=a.charAt(index2);a=a.replace(char1,"*").replace(char2,char1).replace("*",char2)}return a},selectImg:function(a){let imgFile=a.files[0];if(imgFile===undefined){return}let URL=window.URL||window.webkitURL;let imgUrl=URL.createObjectURL(imgFile);$(".hint-img,.grid").css("background-image","url("+imgUrl+")");puzzle.init(puzzle.row,puzzle.col)},disableOperate:function(){for(let i=0;i<arguments.length;i++){arguments[i].attr("disabled",true)}},enableOperate:function(){for(let i=0;i<arguments.length;i++){arguments[i].removeAttr("disabled")}},isPC:function(){let mobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return mobile===null},showProcess:function(){processBar.css("width",0).animate({width:"100%"},15000,"linear")},advice:function(a){adviceBox.text(a)},update:function(a){stepsBox.text(a?--puzzle.steps:++puzzle.steps);if(a){processBar.css("width",100*puzzle.steps/puzzle.totolSteps+"%")}}};if(util.isPC()){hintBtn.on("mousedown",function(){hintImg.css("height","100%")}).on("mouseup",function(){hintImg.css("height",0)}).on("mouseleave",function(){hintImg.css("height",0)})}else{hintBtn.on("touchstart",function(){hintImg.css("height","100%")}).on("touchend",function(){hintImg.css("height",0)})};